{% load i18n %}
{% load static %}
{% load crispy_forms_tags %}
{% load i18n %}

<body style="background-image: url('{% static 'imgs/new_item_background.jpg' %}'); background-size:cover; background-color: rgba(255,255,255,0.3); background-blend-mode: lighten;">
  <div class = 'container'>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <div class="row justify-content-center mt-5">
      <div class="card shadow p-3 mb-5 bg-white rounded" style="width: 25rem;">

        <div class = 'card-header'>
          <div class = 'row justify-content-center'>
            <h3 class="card-title"><b>{% trans "Edit Item" %}</b></h3>
          </div>
          <div class ='row justify-content-center mt-2'>
              <a type = 'button' class = 'btn btn-danger' href = '/restaurant_admin/edit_menu/{{item.menu.id}}'>{% trans 'Cancel' %}</a>
          </div>
        </div>

        <div class="card-body">
        <form method="post" action= "" enctype="multipart/form-data">
          {% csrf_token %}

          {% for message in messages %}
            <p id="messages">{{message}}</p>
          {% endfor %}

          <div class="row justify-content-center mt-2 mb-2">
            <div class="col-8">
              <label for='name'>{% trans 'Name' %}</label>
              <input type = 'text' id = 'name' name = 'name' value = "{{item.name}}">
            </div>
          </div>

          <div class="row justify-content-center mt-2 mb-2">
            <div class="col-8">
              <label for='description'>{% trans 'Description' %}</label>
              <input type = 'text' id = 'description' name = 'description' value = "{{item.description}}">
            </div>
          </div>

          <div class="row justify-content-center mt-2 mb-2">
            <div class="col-8">
              <label for='course'>{% trans 'Course' %}</label>
              <input type = 'text' id = 'course' name = 'course' value = "{{item.course}}">
            </div>
          </div>

          <div class="row justify-content-center mt-2 mb-2">
            <div class="col-8">
              <label for='price'>{% trans 'Price' %}</label>
              <input type = 'number' step = '1.0' id = 'price' name = 'price' value = {{item.price}}>
            </div>
          </div>

          {% if item.photo_path is not none %}
          <div class="row justify-content-center mt-5 mb-5">
              <img src = "{% static item.photo_path %}" border=3 height=150 width=150>
          </div>
          {% endif %}

          <div class="row justify-content-center mt-5 mb-5">
            <div class="col-8">
              <label for = 'photo'>{% trans 'Add/Change Photo' %}</label>
              <input type = 'file' accept="image/*" id = 'photo' name = "photo">
            </div>
          </div>


          <!-- Buttons -->
          <div class="row justify-content-center mb-5">
            <div class="btn-group">
                <button type="submit" class="btn btn-primary">{% trans "Update" %}</button>
            </div>
          </div>

        </form>

        <div class = 'row justify-content-center mt-3'>
          <a style = 'color:red;' href = '/restaurant_admin/remove_item/{{item.menu.id}}/{{item.id}}'>{% trans 'Delete This Item' %}</a>
        </div>

        </div>
      </div>
    </div>
  </div>
</body>
