{% extends 'customers/base.html'%}
{% load socialaccount %}
{% load i18n %}

{% block content %}
<style>

.google-btn {
  margin: 25px;
  width: 80%;
  min-width: 184px;
  max-width: 184px;
  height: 42px;
  background-color: #fcfcfc;
  border-radius: 2px;
  box-shadow: 0 3px 4px 0 rgba(0, 0, 0, .2);
  cursor: pointer;
  cursor: hand;
  align-self: center;
  user-select: none;
  transition: all 400ms ease 0s;
  display: flex;
}
.google-btn .google-icon-wrapper {
  position: absolute;
  margin-top: 1px;
  margin-left: 1px;
  width: 40px;
  height: 40px;
  border-radius: 2px;
  user-select: none
}
.google-btn .google-icon-svg {
  position: absolute;
  margin-top: 11px;
  margin-left: 11px;
  width: 18px;
  height: 18px;
  user-select: none
}
.google-btn .btn-text {
  float: right;
  margin: 11px 14px 40px 40px;
  color: #757575;
  font-size: 14px;
  letter-spacing: .2px;
  font-family: Roboto;
  user-select: none
}
.google-btn:hover {
  box-shadow: 0 3px 8px rgba(117, 117, 117, .5);
  user-select: none
}
.google-btn:active {
  box-shadow: 0 1px 1px #757575;
  background: #F8F8F8;
  color: #fff;
  user-select: none
}

.normal-btn {
  margin: 25px;
  width: auto;
  display: inline-block;
  min-width: auto;
  max-width: 184px;
  height: 42px;
  background-color: #fcfcfc;
  border-radius: 2px;
  box-shadow: 0 3px 4px 0 rgba(0, 0, 0, .2);
  cursor: pointer;
  cursor: hand;
  align-self: center;-webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  transition: all 400ms ease 0s
}
.normal-btn .btn-text {
  float: left;
  margin: 11px 14px 11px 14px;
  color: #757575;
  font-size: 14px;
  letter-spacing: .2px;
  font-family: Roboto;
  user-select: none
}
.normal-btn:hover {
  box-shadow: 0 3px 8px rgba(117, 117, 117, .5);
  user-select: none
}
.normal-btn:active {
  box-shadow: 0 1px 1px #757575;
  background: #F8F8F8;
  color: #fff;
  user-select: none
}
</style>
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Roboto:400" />


<div class = 'container-fluid'>
  <!-- Authentication Card Begins -->
  <div class="row justify-content-center mt-5 mb-3">
    <div class="card shadow bg-white rounded mb-4">
      <h6 class="card-header">
        <div class="row">
          <div class="col">
            {% trans "Authentication" %}
          </div>
        </div>
        </h6>
        <div class="card-body">

        <!-- Google Button -->
        {% if user.is_authenticated %}
          <div class="google-btn">
            <div class="google-icon-wrapper">
              <img class="google-icon-svg" src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg"/>
            </div>
            <p class="btn-text"><b><a style="text-decoration: none; color: grey;" href = "/customers/logout">Logout</a></b></p>
          </div>
          <div class="row justify-content-center">
            <h4>{% trans "Welcome" %}, {{ user.username }}!</h4>
          </div>
        {% else %}
        <div class="row justify-content-center">
          <div class="google-btn">
            <div class="google-icon-wrapper">
              <img class="google-icon-svg" src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg"/>
            </div>
            <p class="btn-text"><b><a style="text-decoration: none; color: grey;" href="{% provider_login_url 'google' %}?next=/customers/">Login with Google</a></b></p>
          </div>
        </div>
        {% endif %}
      </div>
      <div class="card-footer text-muted">
        {% trans "Login to save your details for next time!" %}
      </div>
    </div>
  </div>
  <!-- Authentication Card Ends -->

  <div class="row justify-content-center mt-4 mb-3">
    <div class="card shadow p-3 bg-white rounded mb-4">
      <div class="card-body">
        <table class = 'table'>
          {% for menu in menus %}
            <tr>
              <th scope = 'col'>{{menu.name}}</th>
              <th>
                <!-- empty form -->
                <form action = '/customers/{{menu.restaurant.id}}/{{menu.id}}' method = 'get'>
                  {% csrf_token %}
                  <button type = 'submit' class = 'button-link'>view</button>
                </form>
              </th>
            </tr>
          {% endfor %}
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
